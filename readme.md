<h1 align="center">
<span>ä¸€åˆ†é’Ÿå†…æ­å»ºä¸ªäººlink</span>
</h1>
<p align="center">
    ä¸­æ–‡ | <a href="./README-CN.md">è‹±æ–‡</a> 
</p>
<p align="center">
    <em>
</p>

<p align="center">
  <a href="https://github.com/hougarry/ownlink">
    <img alt="ç¤ºä¾‹" src="https://github.com/hougarry/ownlink/assets/52512824/d21467b7-0367-42f8-ac48-c179c63d9e44" width="400">
  </a>
</p>

# ä½¿ç”¨ Next.js + Notion æ„å»ºä½ è‡ªå·±çš„é“¾æ¥ --- ç¤ºä¾‹ç½‘ç«™

[**æ¼”ç¤ºï¼š**](https://ownlink-two.vercel.app/) ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹æ¼”ç¤ºç½‘ç«™

[**æˆ‘çš„ç½‘ç«™**](https://www.garyhou2023.info/) ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹æˆ‘çš„ç½‘ç«™

[![éƒ¨ç½²åˆ° Vercel](https://vercel.com/button)](https://vercel.com/import/project)

1. åœ¨1åˆ†é’Ÿå†…éƒ¨ç½²ä½ è‡ªå·±çš„é“¾æ¥ï¼Œå¤åˆ¶è¿™ä¸ªä»“åº“å¹¶è¿›è¡Œéƒ¨ç½²
2. åœ¨ä½ çš„Notionä¸­å¤åˆ¶è¿™ä¸ªæ¨¡æ¿ï¼Œè·å–Notioné¡µé¢IDï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š [Notion æ¨¡æ¿](https://twilight-stay-202.notion.site/Ownlink_Template-292e44db817d4cafb370287e59a63b93?pvs=4) ID ä¸º 292e44db817d4cafb370287e59a63b93?pvs=4
3. åœ¨ [site.config.ts](./site.config.ts) ä¸­ç¼–è¾‘å€¼ ğŸ“ï¼Œå°†Notioné¡µé¢IDæ›´æ”¹ä¸ºä½ çš„IDï¼Œå°±è¿™æ ·ï¼Œä½ ç°åœ¨æœ‰äº†è‡ªå·±çš„é“¾æ¥ï¼

> Next.js å’Œ Notion é›†æˆçš„ç»ˆæå…¥é—¨å¥—ä»¶ã€‚
> 

[![æ„å»ºå¾½ç« ](https://github.com/transitive-bullshit/nextjs-notion-starter-kit/actions/workflows/build.yml/badge.svg)](https://github.com/transitive-bullshit/nextjs-notion-starter-kit/actions/workflows/build.yml) [![Prettier å¾½ç« ](https://img.shields.io/badge/code_style-prettier-brightgreen.svg)](https://prettier.io)

## ç®€ä»‹


é€šè¿‡ [react-notion-x](https://github.com/NotionX/react-notion-x)ã€[Next.js](https://nextjs.org/) å’Œ [Vercel](https://vercel.com)ï¼Œè¿™ä¸ªä»“åº“é›†åˆäº†æˆ‘çš„ä¸ªäººåšå®¢å’Œä½œå“é›†ã€‚

## åŠŸèƒ½

- å¿«é€Ÿè®¾ç½®ï¼šåªéœ€ç¼–è¾‘ä¸€ä¸ª [é…ç½®æ–‡ä»¶](./site.config.ts) ğŸ› 
- é€šè¿‡ [react-notion-x](https://github.com/NotionX/react-notion-x) æ·±åº¦é›†æˆ Notion
- æŠ€æœ¯æ ˆï¼šNext.jsã€TypeScriptã€React âš™
- æ€§èƒ½å’ŒSEOä¼˜åŒ– ğŸš€
- è‡ªåŠ¨ç”Ÿæˆç¤¾äº¤å›¾åƒ ğŸ–¼
- å¹²å‡€çš„URL ğŸŒ
- åŠ¨æ€ç›®å½• ğŸ“š
- æ·±è‰²æ¨¡å¼æ”¯æŒ ğŸŒ’
- ç”¨äºå¿«é€Ÿæœç´¢çš„CMD+K / CMD+P ğŸ”
- ç§»åŠ¨å“åº”å¼ ğŸ“±

## å…¥é—¨

**é…ç½®åœ¨ [site.config.ts](./site.config.ts) ä¸­å¤„ç†ã€‚**

1. å¤åˆ¶æˆ–å…‹éš†è¿™ä¸ªä»“åº“ ğŸ´
2. ç¼–è¾‘ [site.config.ts](./site.config.ts) ä¸­çš„å€¼ ğŸ“
3. è¿è¡Œ `npm install` ğŸ“¦
4. ç”¨äºæœ¬åœ°æµ‹è¯•çš„ `npm run dev` ğŸ–¥
5. ç”¨äºæ¨é€åˆ° Vercel çš„ `npm run deploy` ğŸš€

å¯¹äº `rootNotionPageId`ï¼Œä½¿ç”¨ä½ çš„å…¬å…± Notion é¡µé¢ URL çš„æœ€åä¸€éƒ¨åˆ†ã€‚æ›´å¤šè¯´æ˜åœ¨ä»“åº“ä¸­ã€‚

## URL æ–¹æ¡ˆ

è¯¥åº”ç”¨ç¨‹åºåœ¨å¼€å‘å’Œç”Ÿäº§ä¸­é‡‡ç”¨ä¸åŒçš„URLè·¯å¾„ï¼Œå°½ç®¡ä»»ä½•å¼€å‘è·¯å¾„éƒ½å¯ä»¥åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ï¼Œåä¹‹äº¦ç„¶ã€‚

- **å¼€å‘**ï¼šURLé‡‡ç”¨ `/nextjs-notion-blog-d1b5dcf8b9ff425b8aef5ce6f0730202` çš„å½¢å¼ï¼Œæ˜¯ä¸€ä¸ªé™„åŠ äº†Notion IDçš„slugifiedæ ‡é¢˜ï¼Œå¯¹äºå¿«é€ŸIDå¼•ç”¨éå¸¸æœ‰ç”¨ã€‚
  
- **ç”Ÿäº§**ï¼šURLæ›´å¹²å‡€ï¼Œå¦‚ `/nextjs-notion-blog`ï¼Œçœç•¥äº†IDã€‚

URLæ˜ å°„åœ¨æ„å»ºæœŸé—´è‡ªåŠ¨å‘ç”Ÿã€‚å¦‚æœæ›´æ”¹æ ‡é¢˜ï¼Œè¯·ç¡®ä¿æ—§é“¾æ¥ä»ç„¶å¯ç”¨ã€‚Next.js çš„ [é‡å®šå‘](https://nextjs.org/docs/api-reference/next.config

.js/redirects) å¯ä»¥å¸®åŠ©ï¼Œä½†æˆ‘ä»¬ä¸æä¾›å†…ç½®çš„æ—§é“¾æ¥æ£€æµ‹ã€‚

æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [mapPageUrl](./lib/map-page-url.ts) å’Œ [getCanonicalPageId](https://github.com/NotionX/react-notion-x/blob/master/packages/notion-utils/src/get-canonical-page-id.ts)ã€‚

å¯ä»¥ä½¿ç”¨Notionæ•°æ®åº“ä¸­çš„`Slug`æ–‡æœ¬å±æ€§å®šä¹‰è‡ªå®šä¹‰slugã€‚

âš ï¸ è·¨é¡µé¢é‡å¤çš„slugä¼šè§¦å‘é”™è¯¯ã€‚

## å›¾åƒä¼˜åŒ–

<p align="center">
  <img alt="ç¤ºä¾‹å›¾åƒ" src="https://user-images.githubusercontent.com/552829/160142320-35343317-aa9e-4710-bcf7-67e5cdec586d.gif" width="458">
</p>

æˆ‘ä»¬ä½¿ç”¨ [next/image](https://nextjs.org/docs/api-reference/next/image) ä»¥åŠå¯é€‰çš„ [lqip-modern](https://github.com/transitive-bullshit/lqip-modern) æ¥å®ç°é«˜æ•ˆçš„å›¾åƒã€‚

é»˜è®¤æƒ…å†µä¸‹å¯ç”¨é¢„è§ˆå›¾åƒã€‚è¦ç¦ç”¨ï¼Œè¯·åœ¨ `site.config.ts` ä¸­å°† `isPreviewImageSupportEnabled` è®¾ç½®ä¸º `false`ã€‚



### Redis ç¼“å­˜

ä¸ºäº†æ›´å¿«åœ°åŠ è½½é¢„è§ˆå›¾åƒï¼Œè¯·åœ¨ `site.config.ts` ä¸­å°† `isRedisEnabled` è®¾ç½®ä¸º `true` ä»¥å¯ç”¨Redisç¼“å­˜ã€‚åœ¨ `.env` æ–‡ä»¶ä¸­å®šä¹‰ `REDIS_HOST` å’Œ `REDIS_PASSWORD`ã€‚


REDIS_HOST='TODO'
REDIS_PASSWORD='TODO'


æ¨èçš„Redisæä¾›å•†ï¼š[Redis Labs](https://redis.com)ï¼ˆæä¾›å…è´¹è®¡åˆ’ï¼‰ã€‚

é¢„è§ˆå›¾åƒå’ŒRedisç¼“å­˜æ˜¯å¯é€‰çš„ï¼›å¦‚æœä¸éœ€è¦ï¼Œè¯·åœ¨é…ç½®ä¸­ç¦ç”¨ã€‚

### è‡ªå®šä¹‰æ ·å¼

ç”¨äºNotionå†…å®¹çš„CSSä½äº [styles/notion.css](./styles/notion.css)ï¼Œç›®æ ‡æ˜¯æ¥è‡ª [react-notion-x](https://github.com/NotionX/react-notion-x) çš„ [styles.css](https://github.com/NotionX/react-notion-x/blob/master/packages/react-notion-x/src/styles.css) ä¸­çš„ç±»ã€‚

å¯¹äºç‰¹å®šçš„Notionå—ï¼š

```css
.notion-block-260baa77f1e1428b97fb14ac99c7c385 {
  display: none;
}
```

### æ·±è‰²ä¸»é¢˜

<p align="center">
  <img src="Light_Mode_URL" width="45%">
  &nbsp; &nbsp; &nbsp; &nbsp;
  <img src="Dark_Mode_URL" width="45%">
</p>

æ”¯æŒæ·±è‰²æ¨¡å¼ï¼›ç‚¹å‡»é¡µè„šä¸­çš„å¤ªé˜³/æœˆäº®å›¾æ ‡ã€‚
```

ä»¥ä¸Šæ˜¯æ‚¨æä¾›çš„æ–‡æœ¬çš„ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥å°†è¿™ä¸ªç¿»è¯‘æ–‡æœ¬å¤åˆ¶å¹¶ç²˜è´´åˆ°æ‚¨çš„ GitHub readme æ–‡ä»¶ä¸­ã€‚å¦‚æœéœ€è¦è¿›ä¸€æ­¥çš„ä¿®æ”¹æˆ–æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ã€‚
